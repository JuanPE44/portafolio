---
import IconWork from "@components/Icons/IconWork.astro";
import ContainerSection from "@components/ui/ContainerSection.astro";
import IconGithub from "@components/Icons/IconGithub.astro";
import IconLinkedin from "@components/Icons/IconLinkedin.astro";
import HeroIcon from "./HeroIcon.astro";
import CardHero from "./CardHero.astro";
import ListOfHabilities from "./ListOfHabilities.astro";
import ListOfTechnologies from "./ListOfTechnologies.astro";
import IconRowRigth from "@components/Icons/IconRowRigth.astro";
---

<ContainerSection className="py-0">
  <div class="w-full flex flex-col sm:flex-row min-h-screen">
    <div
      class="w-full sm:w-1/2 pt-28 sm:pt-0 min-h-screen flex flex-col gap-10 sm:justify-center relative"
    >
      <div
        class="sm:hidden w-96 h-96 bg-gradient-to-r -bottom-1/3 from-primary to-secondary opacity-25 blur-3xl absolute left-1/2 transform -translate-x-1/2 rounded-full -z-10"
      >
      </div>
      <div class="flex flex-col gap-4">
        <p class="text-zinc-400 text-sm md:text-base">
          Llevando tus proyectos web al siguiente nivel
        </p>
        <div class="flex flex-col gap-3">
          <h1
            class="text-white text-5xl sm:text-3xl md:text-4xl lg:text-5xl font-bold"
          >
            Desarrollador Frontend <span class="text-primary">React</span> & <span
              class="text-primary">Typescript</span
            >
          </h1>
          <h2 class="text-gray text-base sm:text-base lg:text-lg">
            !Hola! Soy Juan. Dise√±o y programo experiencias web simples,
            funcionales y hermosas.
          </h2>
        </div>
      </div>
      <div class="flex flex-col gap-3">
        <div class="flex gap-3">
          <a
            href="/work"
            class="bg-secondary text-bg font-bold py-2 px-4 rounded-2xl flex gap-2 items-center"
          >
            <IconWork />
            <span>Trabajos</span>
          </a>
          <a
            href="/about"
            class="border-[1px] border-white text-white font-bold py-2 px-4 rounded-2xl"
            >Sobre mi</a
          >
        </div>
        <div class="flex justify-center sm:hidden fixed bottom-5 w-full">
          <div
            id="fadeElement"
            class="p-1 border border-primary rounded-full animate-bounce filter backdrop-blur-2xl z-50"
          >
            <IconRowRigth
              width="35"
              height="35"
              className="rotate-90 stroke-primary"
            />
          </div>
        </div>
      </div>
    </div>

    <div class="w-full sm:w-1/2 min-h-screen flex justify-center items-center">
      <div class="relative">
        <!-- Card habilidades -->
        <CardHero
          className="-top-[60%] -left-[15%] sm:-top-[40%] sm:-left-[10%]  md:-left-1/4 md:-top-[40%] lg:-left-1/2 lg:-top-[35%]"
          title="Habilidades"
        >
          <ListOfHabilities />
        </CardHero>

        <!-- Card Github -->
        <HeroIcon className="-top-[15%] -right-[15%]">
          <IconGithub width="35" height="35" />
        </HeroIcon>

        <img
          class="rounded-2xl w-60 h-52 object-cover"
          src="/images/foto-hero.png"
          alt=""
        />

        <!-- Card Linkedin -->
        <HeroIcon className=" -bottom-[15%] -left-[15%] ">
          <IconLinkedin width="35" height="35" />
        </HeroIcon>

        <!-- Card Tecnologicas -->
        <CardHero
          className="-bottom-[60%] -right-[19%] sm:-bottom-[45%] sm:-right-[20%] md:-bottom-[40%] md:-right-1/3 lg:-right-[43%]"
          title="Mis tecnologias preferidas"
        >
          <ListOfTechnologies />
        </CardHero>
      </div>
    </div>
  </div>
</ContainerSection>

<script>
  const handleScroll = () => {
    const element = document.getElementById("fadeElement");
    if (!element) return;

    const scrollY = window.scrollY;
    const maxFadePoint = 300; // Punto en el que la opacidad llega a 0
    const opacity = Math.max(1 - scrollY / maxFadePoint, 0);

    element.style.opacity = opacity.toString();
  };

  if (typeof window !== "undefined") {
    window.addEventListener("scroll", handleScroll);
  }
</script>
